<!DOCTYPE html><html><head><meta charset="utf-8"><title>System</title><link rel="stylesheet" href="/styles.a8245b31.css"><link rel="icon shortcut" href="/favicon.6fe5638d.png" type="image/x-icon"></head><body> <nav class="bg-primary navbar navbar-dark navbar-expand shadow static-top topbar"> <div class="logo"> <img src="/logo.66f30bfe.svg" class="logoSrc"> </div> <div class="collapse navbar-collapse" id="header"> <ul class="navbar-nav"> <li class="nav-item"> <a class="nav-link" href="/index.html">Credentials</a> </li> <li class="nav-item"> <a class="nav-link" href="/wifi.html">Wi-Fi</a> </li> <li class="nav-item"> <a class="nav-link" href="/system.html">System</a> </li> </ul> </div> </nav> <div class="container"> <div class="card my-5 shadow"> <div class="align-items-center card-header d-flex flex-row justify-content-between py-3"> <h6 class="font-weight-bold m-0 text-primary">Update Firmware</h6> </div> <div class="card-body"> <div class="row"> <ol> <li>Select file with new firmware</li> <li>Click "Update" button</li> <li>Wait until update</li> </ol> </div> <div class="row"> <div class="input-group m-3"> <form id="uploadform" enctype="multipart/form-data" method="post" action="/firmware/upload"> <div class="customFile"> <input id="newfile" name="inobinfile" type="file" class="custom-file-input"> <label class="custom-file-label" for="newfile" id="file-label">Choose file</label> <input type="submit" value="Upload" id="submitbtn" class="uploadFile"> </div> </form> </div> </div> <div class="currentVersion"> <span id="currentVersion">Current version: %FIRMWARE%</span> </div> </div> </div> <div class="card my-5 shadow"> <div class="align-items-center card-header d-flex flex-row justify-content-between py-3"> <h6 class="font-weight-bold m-0 text-primary">System</h6> </div> <div class="card-body"> <div class="mt-4 row"> <span class="btn-label">Admin password</span> <a href="#" class="btn btn-primary system-btn" id="pwchange">CHANGE</a> </div> <div class="mt-4 row"> <span class="btn-label">Device</span> <a href="#" class="btn btn-warning system-btn" id="reset">RESET</a> </div> <div class="mt-4 row"> <span class="btn-label">Device</span> <a href="#" class="btn btn-warning system-btn" id="reboot">REBOOT</a> </div> </div> </div>  <script>var e,t,n;function o(){return document.getElementById("uploadform").submit(),!1}function c(){for(var e;;){if(null==(e=prompt("Input new password"))||""==e)return;break}var t="newpass=".concat(e);u("newauthpass?".concat(t),{method:"GET"})}function a(){confirm("Are you sure you want to reset your device to factory settings?")&&u("resetdefault",{method:"GET",onSuccess:function(){return alert("Settings have been reset successfully!")}})}function r(){confirm("Are you sure you want to reboot your device?")&&u("reboot",{method:"GET",onSuccess:function(){return alert("Rebooting...")}})}function i(){document.getElementById("submitbtn").disabled=!0,document.getElementById("submitbtn").classList.add("disabledBtn");var e=document.getElementById("newfile").files;0==e.length?alert("No file selected!"):e[0].size>2097152?alert("File size must be less than ".concat("2048KB","!")):["application/mac-binary","application/macbinary","application/octet-stream","application/x-binary","application/x-macbinary"].includes(e[0].type)?(document.getElementById("submitbtn").disabled=!1,document.getElementById("submitbtn").classList.remove("disabledBtn"),document.getElementById("file-label").innerHTML=e[0].name):alert("File type must be '.bin'")}function s(){var e=window.location.pathname.replace(/^\//,"")||"index.html",t=document.getElementById("header").querySelectorAll('a[href$="'.concat(e,'"]'));t.length&&t[0].classList.add("bold")}function u(e,t){var n=t.method,o=t.onSuccess,c=t.onError;switch(n){case"GET":fetch("".concat("","/").concat(e)).then(function(e){if(200===e.status)return o||alert(e.statusText),e.text();alert("Error!\n".concat(e.statusText)),c&&c()}).then(function(e){return o&&o(e)}).catch(function(e){return alert("Error!\n".concat(e))})}}window.onload=function(){document.getElementById("pwchange").onclick=c,document.getElementById("reset").onclick=a,document.getElementById("reboot").onclick=r,document.getElementById("submitbtn").disabled=!0,document.getElementById("submitbtn").classList.add("disabledBtn"),document.getElementById("newfile").onchange=i;var e=document.querySelector("form");e.addEventListener("submit",function(t){t.preventDefault();var n=new FormData(e);fetch(e.action,{method:"POST",body:n}).then(function(e){200===e.status?alert("Firmware was successfully uploaded!"):alert("Error!\n".concat(e.statusText))})})},s();</script> <span class="bold disabledBtn validation-error" style="display:none;"></span> </div></body></html>